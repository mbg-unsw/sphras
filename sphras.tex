% SPH R Appreciation Society "Packages of the month"
% (c) 2023 Malcolm Gillies <malcolm.gillies@unsw.edu.au>
% https://github.com/mbg-unsw/sphras
%
% This work is licensed under a
% Creative Commons Attribution-NonCommercial-ShareAlike 4.0
% International Licence
\documentclass[aspectratio=169,12pt]{beamer} % XXXX fix AR here
\usepackage{pgfpages}
\usepackage{fancyvrb}
\usepackage{pgfplots}
%\usepackage[latin1]{inputenc}
%\usepackage[T1]{fontenc}
%\usepackage{textcomp}
%\usefonttheme{serif} % need this with Charter font
\usetheme{auriga}  % using default now
\usecolortheme{auriga}  % using default now
%\usepackage[libertine]{libertine} % not using osf (old-style figures)
%\usepackage[scale=0.9]{tgheros} % scale to match libertine
%\usepackage[varqu,varl]{inconsolata}
%\usepackage[libertine]{newtxmath}
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{shadows}
\usepackage{tikzpagenodes}
\usepackage{natbib}
\usepackage{gitinfo2}

\pgfplotsset{compat=1.17}
\hypersetup{pdfencoding=auto}

\renewcommand{\gitMark}{\color{lightgray}\texttt{\tiny\gitBranch\,@\,\gitAbbrevHash\,\gitAuthorDate}}

%\renewcommand{\bibsection}{} % suppress "References" section

%\setbeamertemplate{navigation symbols}{} % remove navigation symbols
%\setbeamercolor*{item}{fg=darkred}

\title{SPH R Appreciation Society:\\Packages of the month}
\author{Malcolm Gillies <malcolm.gillies@unsw.edu.au>}
\institute{9 October 2023}

\newif\ifsidebartheme
\sidebarthemefalse

\newdimen\contentheight
\newdimen\contentwidth
\newdimen\contentleft
\newdimen\contentbottom
\makeatletter
\newcommand*{\calculatespace}{%
    \contentheight=\paperheight%
    \ifx\beamer@frametitle\@empty%
        \setbox\@tempboxa=\box\voidb@x%
      \else%
        \setbox\@tempboxa=\vbox{%
          \vbox{}%
          {\parskip0pt\usebeamertemplate***{frametitle}}%
        }%
        \ifsidebartheme%
          \advance\contentheight by-1em%
        \fi%
      \fi%
    \advance\contentheight by-\ht\@tempboxa%
    \advance\contentheight by-\dp\@tempboxa%
    \advance\contentheight by-\beamer@frametopskip%
    \ifbeamer@plainframe%
    \contentbottom=0pt%
    \else%
    \advance\contentheight by-\headheight%
    \advance\contentheight by\headdp%
    \advance\contentheight by-\footheight%
    \advance\contentheight by4pt%
    \contentbottom=\footheight%
    \advance\contentbottom by-4pt%
    \fi%
    \contentwidth=\paperwidth%
    \ifbeamer@plainframe%
    \contentleft=0pt%
    \else%
    \advance\contentwidth by-\beamer@rightsidebar%
    \advance\contentwidth by-\beamer@leftsidebar\relax%
    \contentleft=\beamer@leftsidebar%
    \fi%
}
\makeatother

\begin{document}

\setbeamercolor{page number in head/foot}{fg=white}

\begin{frame}[plain]
\titlepage
\end{frame}

\begin{frame}{brms and Stan}
	\begin{itemize}
		\item What is it?
		\item What's great?
		\item What sucks?
		\item How does it work?
	\end{itemize}
\end{frame}

\begin{frame}{brms: What is it?}
	\begin{itemize}
		\item Bayesian modelling made easy
		\item An \texttt{lme4}-style interface to Stan
		\item \url{https://github.com/paul-buerkner/brms}
	\end{itemize}
\end{frame}

\begin{frame}{brms: What's great?}
	\begin{itemize}
		\item Fit complex models:
		\begin{itemize}
			\item Censored, mixture, survival, smooth/spline, ...
			\item \scriptsize{\url{https://paul-buerkner.github.io/brms/reference/brmsformula.html}}
			\item \scriptsize{\url{https://paul-buerkner.github.io/brms/reference/brmsfamily.html}}
		\end{itemize}
		\item Fit ugly data
		\item Better estimates
		\item Large \emph{n}
	\end{itemize}
\end{frame}

\begin{frame}{brms: What sucks}
	\begin{itemize}
		\item Sometimes Stan is hard to install
		\begin{itemize}
			\item Needs rtools and more...
		\end{itemize}
		\item Fitting models can be slow
		\begin{itemize}
			\item Minutes, hours, days...
		\end{itemize}
		\item You need to learn Bayesian things
		\begin{itemize}
			\item Priors, convergence, posterior checks
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}{brms: Intros and tutorials}
	\begin{itemize}
		\item \scriptsize{\url{https://www.rensvandeschoot.com/tutorials/brms-started/}}
		\item \scriptsize{\url{https://ourcodingclub.github.io/tutorials/brms/}}
	\end{itemize}
\end{frame}

%\begin{frame}{Study 1: PBS antibiotics in 2020}
%\centering
%\includegraphics{ref/latex-j01armap3-1.pdf}
%\end{frame}

\begin{frame}{sf and tmap: What are they?}
	\begin{itemize}
		\item sf
		\begin{itemize}
			\item read and write spatial data
			\item \emph{i.e. shapefiles}
			\item replaces obsolete packages: \texttt{sp},
				\texttt{rgdal}, \texttt{maptools}
		\end{itemize}
		\item tmap
		\begin{itemize}
			\item draw maps, e.g. choropleths
			\item alternative to \texttt{ggplot2}, \texttt{leaftlet}
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}{tmap: What's great?}
	\begin{itemize}
		\item nice defaults
		\item can create static or interactive maps
		\item easy to add ``basemaps'' with topography etc.
		\item compatible with OpenStreetMap i.e. \texttt{library(osmdata)}
	\end{itemize}
\end{frame}

\begin{frame}{sf and tmap: What sucks?}
	\begin{itemize}
		\item sf and tmap: can be hard to install
		\item tmap: a little inflexible compared with \texttt{ggplot2}
	\end{itemize}
\end{frame}

\begin{frame}{sf and tmap: Intros and tutorials}
	\begin{itemize}
		\item \scriptsize{\url{https://mharinga.github.io/choropleth.html}}
	\end{itemize}
\end{frame}

\end{document}
